<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://flakkaqi.github.io</id>
    <title>ç¥å…ˆç”Ÿçš„å¾®åšå®¢</title>
    <updated>2020-05-29T01:38:38.123Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://flakkaqi.github.io"/>
    <link rel="self" href="https://flakkaqi.github.io/atom.xml"/>
    <subtitle>You dida dida me , I huala hula you</subtitle>
    <logo>https://flakkaqi.github.io/images/avatar.png</logo>
    <icon>https://flakkaqi.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, ç¥å…ˆç”Ÿçš„å¾®åšå®¢</rights>
    <entry>
        <title type="html"><![CDATA[mybatisplusä»£ç ç”Ÿæˆå™¨]]></title>
        <id>https://flakkaqi.github.io/post/mybatisplus-dai-ma-sheng-cheng-qi/</id>
        <link href="https://flakkaqi.github.io/post/mybatisplus-dai-ma-sheng-cheng-qi/">
        </link>
        <updated>2020-05-29T01:20:53.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ˜‡ä½¿ç”¨myabtisplusä»£ç ç”Ÿæˆå™¨å¯ä»¥å¤§å¤§æå‡ä»£ç çš„å¼€å‘æ•ˆç‡</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ˜‡ä½¿ç”¨myabtisplusä»£ç ç”Ÿæˆå™¨å¯ä»¥å¤§å¤§æå‡ä»£ç çš„å¼€å‘æ•ˆç‡</p>
<!-- more -->
<h3 id="å¼•å…¥ä¾èµ–">å¼•å…¥ä¾èµ–</h3>
<pre><code class="language-java">import com.baomidou.mybatisplus.enums.IdType;
import com.baomidou.mybatisplus.generator.AutoGenerator;
import com.baomidou.mybatisplus.generator.config.DataSourceConfig;
import com.baomidou.mybatisplus.generator.config.GlobalConfig;
import com.baomidou.mybatisplus.generator.config.PackageConfig;
import com.baomidou.mybatisplus.generator.config.StrategyConfig;
import com.baomidou.mybatisplus.generator.config.rules.DbType;
import com.baomidou.mybatisplus.generator.config.rules.NamingStrategy;
</code></pre>
<h3 id="å·¥å…·ç±»">å·¥å…·ç±»</h3>
<pre><code class="language-java">
public class GeneratorTest {

    public static void main(String[] args) {
        //1ã€å…¨å±€é…ç½®
        GlobalConfig config = new GlobalConfig();
        config.setActiveRecord(true)//å¼€å¯ARæ¨¡å¼
                .setAuthor(&quot;qishuai&quot;)//è®¾ç½®ä½œè€…
                //ç”Ÿæˆè·¯å¾„(ä¸€èˆ¬éƒ½æ˜¯ç”Ÿæˆåœ¨æ­¤é¡¹ç›®çš„src/main/javaä¸‹é¢)
                .setOutputDir(&quot;C:\\javaProject\\spacework\\src\\main\\java&quot;)
                .setFileOverride(false)//ç¬¬äºŒæ¬¡ç”Ÿæˆä¸ä¼šæŠŠç¬¬ä¸€æ¬¡ç”Ÿæˆçš„è¦†ç›–æ‰
                .setIdType(IdType.AUTO)//ä¸»é”®ç­–ç•¥
                .setServiceName(&quot;%sService&quot;)//ç”Ÿæˆçš„serviceæ¥å£åå­—é¦–å­—æ¯æ˜¯å¦ä¸ºIï¼Œè¿™æ ·è®¾ç½®å°±æ²¡æœ‰I
                .setBaseResultMap(true)//ç”ŸæˆresultMap
                .setBaseColumnList(true)//åœ¨xmlä¸­ç”ŸæˆåŸºç¡€åˆ—
                .setOpen(false);//å½“ä»£ç ç”Ÿæˆå®Œæˆä¹‹åæ˜¯å¦æ‰“å¼€ä»£ç æ‰€åœ¨çš„æ–‡ä»¶å¤¹
        //2ã€æ•°æ®æºé…ç½®
        DataSourceConfig dataSourceConfig = new DataSourceConfig();
        dataSourceConfig.setDbType(DbType.ORACLE)//æ•°æ®åº“ç±»å‹
                .setDriverName(&quot;dm.jdbc.driver.DmDriver&quot;)
                .setUrl(&quot;jdbc:**://**.**.**.**:****:****/***&quot;)
                .setUsername(&quot;******&quot;)
                .setPassword(&quot;*******&quot;);
        //3ã€ç­–ç•¥é…ç½®
        StrategyConfig strategyConfig = new StrategyConfig();
        strategyConfig.setCapitalMode(true)//å¼€å¯å…¨å±€å¤§å†™å‘½å
                .setDbColumnUnderline(true)//è¡¨åå­—æ®µåä½¿ç”¨ä¸‹åˆ’çº¿
                .setNaming(NamingStrategy.underline_to_camel)//ä¸‹åˆ’çº¿åˆ°é©¼å³°çš„å‘½åæ–¹å¼
                .setTablePrefix(&quot;&quot;)//è¡¨åå‰ç¼€
                .setEntityLombokModel(true)//ä½¿ç”¨lombok
                .setInclude(&quot;BASIC_DATA_T&quot;);//é€†å‘å·¥ç¨‹ä½¿ç”¨çš„è¡¨
        //4ã€åŒ…åç­–ç•¥é…ç½®
        PackageConfig packageConfig = new PackageConfig();
        packageConfig.setParent(&quot;com.test.bapp.demo&quot;)//è®¾ç½®åŒ…åçš„parent
                .setMapper(&quot;mapper&quot;)
                .setService(&quot;service&quot;)
                .setController(&quot;controller&quot;)
                .setEntity(&quot;entity&quot;)
                .setXml(&quot;mapper.mapping&quot;);//è®¾ç½®xmlæ–‡ä»¶çš„ç›®å½•
        //5ã€æ•´åˆé…ç½®
        AutoGenerator autoGenerator = new AutoGenerator();
        autoGenerator.setGlobalConfig(config)
                .setDataSource(dataSourceConfig)
                .setStrategy(strategyConfig)
                .setPackageInfo(packageConfig);
        //6ã€æ‰§è¡Œ
        autoGenerator.execute();
    }
}
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://flakkaqi.github.io/post-images/1590716277577.jpg" alt="" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[javaå¯¼å‡ºEXCELå·¥å…·ç±»]]></title>
        <id>https://flakkaqi.github.io/post/java-dao-chu-excel-gong-ju-lei/</id>
        <link href="https://flakkaqi.github.io/post/java-dao-chu-excel-gong-ju-lei/">
        </link>
        <updated>2020-05-27T09:53:07.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ˜„åç«¯å°†æ•°æ®ç”Ÿæˆexcelæ–‡ä»¶ï¼Œä»¥æµçš„å½¢å¼è¿”å›ç»™å‰ç«¯ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ˜„åç«¯å°†æ•°æ®ç”Ÿæˆexcelæ–‡ä»¶ï¼Œä»¥æµçš„å½¢å¼è¿”å›ç»™å‰ç«¯ã€‚</p>
<!-- more -->
<p>ä¸€ã€å°†æŸ¥è¯¢ç»“æœé›†å°è£…ä¸ºå®ä½“é›†åˆ</p>
<pre><code class="language-java">import com.alibaba.excel.annotation.ExcelProperty;
import com.alibaba.excel.metadata.BaseRowModel;
import io.swagger.annotations.ApiModel;
import io.swagger.annotations.ApiModelProperty;
import lombok.Data;
import lombok.EqualsAndHashCode;
/**
 * @Auther: QiShuai
 * @Date: 2020/5/27 14:26
 * @Description: EXCELæ•°æ®è·å–
 */
@Data
@EqualsAndHashCode(callSuper = false)
@ApiModel(&quot;EXCELæ•°æ®è·å–&quot;)
public class ConsultExcelResp extends BaseRowModel {

    @ExcelProperty(value = &quot;æäº¤äºº&quot;,index = 0)  //excleå¯¹åº”çš„åˆ—æ•°
    @ApiModelProperty(&quot;æäº¤äºº&quot;)
    private String userName;

    @ExcelProperty(value = &quot;çœä»½&quot;,index = 1) //excleå¯¹åº”çš„åˆ—æ•°
    @ApiModelProperty(&quot;çœä»½&quot;)
    private String province;
}
</code></pre>
<p>äºŒã€å·¥å…·ç±»</p>
<pre><code class="language-java">package cn.gwssi.bapp.common.exportExcel;

import com.alibaba.excel.EasyExcel;
import com.alibaba.excel.metadata.BaseRowModel;
import com.alibaba.excel.support.ExcelTypeEnum;
import org.apache.poi.hssf.usermodel.*;

import javax.servlet.http.HttpServletResponse;
import java.io.File;
import java.io.IOException;
import java.io.OutputStream;
import java.io.UnsupportedEncodingException;
import java.net.URLEncoder;
import java.util.ArrayList;
import java.util.List;

public class ExcelUtil {

    /**
     * ç”Ÿæˆexcel
     * @param sheetName
     * @param title
     * @param values
     * @param wb
     * @return
     */
    public static HSSFWorkbook getHSSFWorkbook(String sheetName, String[] title, String[][] values, HSSFWorkbook wb) {

        // ç¬¬ä¸€æ­¥ï¼Œåˆ›å»ºä¸€ä¸ªHSSFWorkbookï¼Œå¯¹åº”ä¸€ä¸ªExcelæ–‡ä»¶
        if (wb == null) {
            wb = new HSSFWorkbook();
        }

        // ç¬¬äºŒæ­¥ï¼Œåœ¨workbookä¸­æ·»åŠ ä¸€ä¸ªsheet,å¯¹åº”Excelæ–‡ä»¶ä¸­çš„sheet
        HSSFSheet sheet = wb.createSheet(sheetName);

        // ç¬¬ä¸‰æ­¥ï¼Œåœ¨sheetä¸­æ·»åŠ è¡¨å¤´ç¬¬0è¡Œ,æ³¨æ„è€ç‰ˆæœ¬poiå¯¹Excelçš„è¡Œæ•°åˆ—æ•°æœ‰é™åˆ¶
        HSSFRow row = sheet.createRow(0);

        // ç¬¬å››æ­¥ï¼Œåˆ›å»ºå•å…ƒæ ¼ï¼Œå¹¶è®¾ç½®å€¼è¡¨å¤´ è®¾ç½®è¡¨å¤´å±…ä¸­
        HSSFCellStyle style = wb.createCellStyle();
        /*style.setAlignment(HSSFCellStyle.ALIGN_CENTER); // åˆ›å»ºä¸€ä¸ªå±…ä¸­æ ¼å¼*/

        // å£°æ˜åˆ—å¯¹è±¡
        HSSFCell cell = null;

        // åˆ›å»ºæ ‡é¢˜
        for (int i = 0; i &lt; title.length; i++) {
            cell = row.createCell(i);
            cell.setCellValue(title[i]);
            cell.setCellStyle(style);
        }

        // åˆ›å»ºå†…å®¹
        for (int i = 0; i &lt; values.length; i++) {
            row = sheet.createRow(i + 1);
            for (int j = 0; j &lt; values[i].length; j++) {
                // å°†å†…å®¹æŒ‰é¡ºåºèµ‹ç»™å¯¹åº”çš„åˆ—å¯¹è±¡
                row.createCell(j).setCellValue(values[i][j]);
            }
        }
        return wb;
    }

    /**
     * å‘é€å“åº”æµæ–¹æ³•
     * @param response
     * @param fileName
     */
    public static void setResponseHeader(HttpServletResponse response, String fileName) {
        try {
            try {
                fileName = new String(fileName.getBytes(),&quot;ISO8859-1&quot;);
            } catch (UnsupportedEncodingException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            response.setContentType(&quot;application/octet-stream;charset=ISO8859-1&quot;);
            response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot;+ fileName);
            response.addHeader(&quot;Pargam&quot;, &quot;no-cache&quot;);
            response.addHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);
            response.setCharacterEncoding(&quot;UTF-8&quot;);
        } catch (Exception ex) {
            ex.printStackTrace();
        }
    }

    /**
     *
     * åŠŸèƒ½æè¿°: å†™excelå†…å®¹
     *
     * @param:
     * @return:
     * @auther: jiaoguojin
     * @date: 2020/3/28 17:38
     */
    public static void writeExcel(String fileName, List&lt;? extends BaseRowModel&gt; resultList,
                                  HttpServletResponse response, Class dataClass) throws Exception {
        EasyExcel.write(getOutputStream(fileName,response), dataClass)
                .excelType(ExcelTypeEnum.XLSX)
                .sheet(fileName)
                .doWrite(resultList);
    }
    /**
     *
     * åŠŸèƒ½æè¿°: å†™excelå†…å®¹ åŠ¨æ€è¡¨å¤´
     *
     * @param:
     * @return:
     * @auther: ykf
     * @date: 2020/3/28 17:38
     */
    public static void writeExcel(String fileName, List resultList,
                                              HttpServletResponse response, Class dataClass, File templateFile) throws Exception {
        EasyExcel.write(getOutputStream(fileName,response))
                .head(dataClass)
                .withTemplate(templateFile)
                .sheet(0)
                .doWrite(resultList);

//        // è¿™é‡Œ éœ€è¦æŒ‡å®šå†™ç”¨å“ªä¸ªclasså»å†™
//        ExcelWriter excelWriter = EasyExcel.write(getOutputStream(fileName,response),dataClass).withTemplate(templateFile).build();
//
//        // æŠŠsheetè®¾ç½®ä¸ºä¸éœ€è¦å¤´ ä¸ç„¶ä¼šè¾“å‡ºsheetçš„å¤´ è¿™æ ·çœ‹èµ·æ¥ç¬¬ä¸€ä¸ªtable å°±æœ‰2ä¸ªå¤´äº†
//        WriteSheet writeSheet = EasyExcel.writerSheet(0).needHead(Boolean.FALSE).build();
//
//        // è¿™é‡Œå¿…é¡»æŒ‡å®šéœ€è¦å¤´ï¼Œtable ä¼šç»§æ‰¿sheetçš„é…ç½®ï¼Œsheeté…ç½®äº†ä¸éœ€è¦ï¼Œtable é»˜è®¤ä¹Ÿæ˜¯ä¸éœ€è¦
//        WriteTable writeTable0 = EasyExcel.writerTable(0).needHead(Boolean.FALSE).build();
//        WriteTable writeTable1 = EasyExcel.writerTable(1).needHead(Boolean.TRUE).build();
//        writeTable0.setHead(head());
//        writeTable0.setRelativeHeadRowIndex(-2);
//        writeTable1.setRelativeHeadRowIndex(0);
//        // ç¬¬ä¸€æ¬¡å†™å…¥ä¼šåˆ›å»ºå¤´
//        List&lt;test&gt; list = new ArrayList();
//        list.add(new test(&quot;23423423423&quot;,&quot;aseraerawerf&quot;));
//        list.add(new test(&quot;234238888888888&quot;,&quot;aseraerdddddddddddddddd&quot; +
//                &quot;+awerf&quot;));
//        excelWriter.write(list, writeSheet, writeTable0);
//        // ç¬¬äºŒæ¬¡å†™å¦‚ä¹Ÿä¼šåˆ›å»ºå¤´ï¼Œç„¶ååœ¨ç¬¬ä¸€æ¬¡çš„åé¢å†™å…¥æ•°æ®
//        excelWriter.write(resultList, writeSheet, writeTable1);
//        // åƒä¸‡åˆ«å¿˜è®°finish ä¼šå¸®å¿™å…³é—­æµ
//        excelWriter.finish();
    }
    /**
     *
     * åŠŸèƒ½æè¿°: å¯¼å‡ºæ–‡ä»¶æ—¶ä¸ºWriterç”ŸæˆOutputStream
     *
     * @param:
     * @return:
     * @auther: jiaoguojin
     * @date: 2020/3/27 18:53
     */
    private static OutputStream getOutputStream(String fileName,
                                                HttpServletResponse response) throws Exception {
        try {
            fileName = URLEncoder.encode(fileName, &quot;UTF-8&quot;);
            response.setContentType(&quot;application/vnd.ms-excel&quot;);
            response.setCharacterEncoding(&quot;utf8&quot;);
            response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName + &quot;.xlsx&quot;);
            response.setHeader(&quot;Pragma&quot;, &quot;public&quot;);
            response.setHeader(&quot;Cache-Control&quot;, &quot;no-store&quot;);
            response.addHeader(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);
            return response.getOutputStream();
        } catch (IOException e) {
            throw new Exception(&quot;å¯¼å‡ºexcelè¡¨æ ¼å¤±è´¥!&quot;, e);
        }
    }


    private static List&lt;List&lt;String&gt;&gt; head() {
        List&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;List&lt;String&gt;&gt;();
        List&lt;String&gt; head0 = new ArrayList&lt;String&gt;();
        head0.add(&quot;å­—ç¬¦ä¸²&quot; + System.currentTimeMillis());
        List&lt;String&gt; head1 = new ArrayList&lt;String&gt;();
        head1.add(&quot;æ•°å­—&quot; + System.currentTimeMillis());
        List&lt;String&gt; head2 = new ArrayList&lt;String&gt;();
        head2.add(&quot;æ—¥æœŸ&quot; + System.currentTimeMillis());
        list.add(head0);
        list.add(head1);
        list.add(head2);
        return list;
    }
}
</code></pre>
<p>ä¸‰ã€ä½¿ç”¨ç¤ºä¾‹</p>
<pre><code class="language-java">public void consultListToExcel(HttpServletResponse response) throws Exception {
  List&lt;ConsultExcelResp&gt; list = xxwConsultTMapper.getConsultListToExcel();
  String filename = &quot;ç½‘ä¸Šå’¨è¯¢å›å¤è¡¨&quot;;
  ExcelUtil.writeExcel(filename, list, response, ConsultExcelResp.class);
}
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://flakkaqi.github.io/post-images/1590573767663.webp" alt="" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Java httpè¯·æ±‚å·¥å…·ç±»]]></title>
        <id>https://flakkaqi.github.io/post/java-http-qing-qiu-gong-ju-lei/</id>
        <link href="https://flakkaqi.github.io/post/java-http-qing-qiu-gong-ju-lei/">
        </link>
        <updated>2020-05-12T12:21:48.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ˜šä¸ªäººè§‰å¾—æ—¶éå¸¸ç®€å•å®ç”¨ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ˜šä¸ªäººè§‰å¾—æ—¶éå¸¸ç®€å•å®ç”¨ã€‚</p>
<!-- more -->
<pre><code class="language-java">package cn.gwssi.bapp.common.util;

import com.alibaba.fastjson.JSONObject;
import org.apache.http.HttpEntity;
import org.apache.http.HttpStatus;
import org.apache.http.client.config.RequestConfig;
import org.apache.http.client.methods.CloseableHttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.entity.StringEntity;
import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClients;
import org.apache.http.util.EntityUtils;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import java.io.IOException;

/**
 * HttpClientå·¥å…·ç±»
 */
public class HttpClientUtils {
    private static Logger logger = LoggerFactory.getLogger(HttpClientUtils.class); // æ—¥å¿—è®°å½•

    private static RequestConfig requestConfig = null;

    static {
        // è®¾ç½®è¯·æ±‚å’Œä¼ è¾“è¶…æ—¶æ—¶é—´
        requestConfig = RequestConfig.custom().setSocketTimeout(60000).setConnectTimeout(60000).build();
    }

    /**
     * postè¯·æ±‚ä¼ è¾“jsonå‚æ•°
     *
     * @param url       urlåœ°å€
     * @param jsonParam å‚æ•°
     * @return
     */
    public static JSONObject httpPost(String url, JSONObject jsonParam) {
        // postè¯·æ±‚è¿”å›ç»“æœ
        CloseableHttpClient httpClient = HttpClients.createDefault();
        JSONObject jsonResult = null;
        HttpPost httpPost = new HttpPost(url);
        // è®¾ç½®è¯·æ±‚å’Œä¼ è¾“è¶…æ—¶æ—¶é—´
        httpPost.setConfig(requestConfig);
        try {
            if (null != jsonParam) {
                // è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜
                StringEntity entity = new StringEntity(jsonParam.toString(), &quot;utf-8&quot;);
                entity.setContentEncoding(&quot;UTF-8&quot;);
                entity.setContentType(&quot;application/json&quot;);
                httpPost.setEntity(entity);
            }
            CloseableHttpResponse result = httpClient.execute(httpPost);
            // è¯·æ±‚å‘é€æˆåŠŸï¼Œå¹¶å¾—åˆ°å“åº”
            if (result.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
                String str = &quot;&quot;;
                try {
                    // è¯»å–æœåŠ¡å™¨è¿”å›è¿‡æ¥çš„jsonå­—ç¬¦ä¸²æ•°æ®
                    str = EntityUtils.toString(result.getEntity(), &quot;utf-8&quot;);
                    // æŠŠjsonå­—ç¬¦ä¸²è½¬æ¢æˆjsonå¯¹è±¡
                    jsonResult = JSONObject.parseObject(str);
                } catch (Exception e) {
                    logger.error(&quot;postè¯·æ±‚æäº¤å¤±è´¥:&quot; + url, e);
                }
            }
        } catch (IOException e) {
            logger.error(&quot;postè¯·æ±‚æäº¤å¤±è´¥:&quot; + url, e);
        } finally {
            httpPost.releaseConnection();
        }
        return jsonResult;
    }

    /**
     * postè¯·æ±‚ä¼ è¾“Stringå‚æ•° ä¾‹å¦‚ï¼šname=Jack&amp;sex=1&amp;type=2
     * Content-type:application/x-www-form-urlencoded
     *
     * @param url      urlåœ°å€
     * @param strParam å‚æ•°
     * @return
     */
    public static JSONObject httpPost(String url, String strParam) {
        // postè¯·æ±‚è¿”å›ç»“æœ
        CloseableHttpClient httpClient = HttpClients.createDefault();
        JSONObject jsonResult = null;
        HttpPost httpPost = new HttpPost(url);
        httpPost.setConfig(requestConfig);
        try {
            if (null != strParam) {
                // è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜
                StringEntity entity = new StringEntity(strParam, &quot;utf-8&quot;);
                entity.setContentEncoding(&quot;UTF-8&quot;);
                entity.setContentType(&quot;application/x-www-form-urlencoded&quot;);
                httpPost.setEntity(entity);
            }
            CloseableHttpResponse result = httpClient.execute(httpPost);
            // è¯·æ±‚å‘é€æˆåŠŸï¼Œå¹¶å¾—åˆ°å“åº”
            if (result.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
                String str = &quot;&quot;;
                try {
                    // è¯»å–æœåŠ¡å™¨è¿”å›è¿‡æ¥çš„jsonå­—ç¬¦ä¸²æ•°æ®
                    str = EntityUtils.toString(result.getEntity(), &quot;utf-8&quot;);
                    // æŠŠjsonå­—ç¬¦ä¸²è½¬æ¢æˆjsonå¯¹è±¡
                    jsonResult = JSONObject.parseObject(str);
                } catch (Exception e) {
                    logger.error(&quot;postè¯·æ±‚æäº¤å¤±è´¥:&quot; + url, e);
                }
            }
        } catch (IOException e) {
            logger.error(&quot;postè¯·æ±‚æäº¤å¤±è´¥:&quot; + url, e);
        } finally {
            httpPost.releaseConnection();
        }
        return jsonResult;
    }

    /**
     * å‘é€getè¯·æ±‚
     *
     * @param url è·¯å¾„
     * @return
     */
    public static JSONObject httpGet(String url) {
        // getè¯·æ±‚è¿”å›ç»“æœ
        JSONObject jsonResult = null;
        CloseableHttpClient client = HttpClients.createDefault();
        // å‘é€getè¯·æ±‚
        HttpGet request = new HttpGet(url);
        request.setConfig(requestConfig);
        try {
            CloseableHttpResponse response = client.execute(request);

            // è¯·æ±‚å‘é€æˆåŠŸï¼Œå¹¶å¾—åˆ°å“åº”
            if (response.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
                // è¯»å–æœåŠ¡å™¨è¿”å›è¿‡æ¥çš„jsonå­—ç¬¦ä¸²æ•°æ®
                HttpEntity entity = response.getEntity();
                String strResult = EntityUtils.toString(entity, &quot;utf-8&quot;);
                // æŠŠjsonå­—ç¬¦ä¸²è½¬æ¢æˆjsonå¯¹è±¡
                jsonResult = JSONObject.parseObject(strResult);
            } else {
                logger.error(&quot;getè¯·æ±‚æäº¤å¤±è´¥:&quot; + url);
            }
        } catch (IOException e) {
            logger.error(&quot;getè¯·æ±‚æäº¤å¤±è´¥:&quot; + url, e);
        } finally {
            request.releaseConnection();
        }
        return jsonResult;
    }

    /**
     * postè¯·æ±‚ä¼ è¾“Stringå‚æ•° ä¾‹å¦‚ï¼šname=Jack&amp;sex=1&amp;type=2
     * Content-type:application/x-www-form-urlencoded
     *
     * @param url      urlåœ°å€
     * @param strParam å‚æ•°
     * @return String
     */
    public static String httpPostStr(String url, String strParam) {
        String str = &quot;&quot;;
        // postè¯·æ±‚è¿”å›ç»“æœ
        CloseableHttpClient httpClient = HttpClients.createDefault();
        JSONObject jsonResult = null;
        HttpPost httpPost = new HttpPost(url);
        httpPost.setConfig(requestConfig);
        try {
            if (null != strParam) {
                // è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜
                StringEntity entity = new StringEntity(strParam, &quot;utf-8&quot;);
                entity.setContentEncoding(&quot;UTF-8&quot;);
                entity.setContentType(&quot;application/x-www-form-urlencoded&quot;);
                httpPost.setEntity(entity);
            }
            CloseableHttpResponse result = httpClient.execute(httpPost);
            // è¯·æ±‚å‘é€æˆåŠŸï¼Œå¹¶å¾—åˆ°å“åº”
            if (result.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {

                try {
                    // è¯»å–æœåŠ¡å™¨è¿”å›è¿‡æ¥çš„jsonå­—ç¬¦ä¸²æ•°æ®
                    str = EntityUtils.toString(result.getEntity(), &quot;utf-8&quot;);
                    // æŠŠjsonå­—ç¬¦ä¸²è½¬æ¢æˆjsonå¯¹è±¡
                    /*jsonResult = JSONObject.parseObject(str);*/
                } catch (Exception e) {
                    logger.error(&quot;postè¯·æ±‚æäº¤å¤±è´¥:&quot; + url, e);
                }
            }
        } catch (IOException e) {
            logger.error(&quot;postè¯·æ±‚æäº¤å¤±è´¥:&quot; + url, e);
        } finally {
            httpPost.releaseConnection();
        }
        return str;
    }

}
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://flakkaqi.github.io/post-images/1589286418244.webp" alt="" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[JAVAæ—¥æœŸæ¯”è¾ƒæ—¶é—´å¤§å°çš„å‡ ç§æ–¹æ³•]]></title>
        <id>https://flakkaqi.github.io/post/java-ri-qi-bi-jiao-shi-jian-da-xiao-de-ji-chong-fang-fa/</id>
        <link href="https://flakkaqi.github.io/post/java-ri-qi-bi-jiao-shi-jian-da-xiao-de-ji-chong-fang-fa/">
        </link>
        <updated>2020-05-09T03:26:44.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ˜©éšä¾¿å†™å†™</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ˜©éšä¾¿å†™å†™</p>
<!-- more -->
<h3 id="æ€è·¯ä¸€">æ€è·¯ä¸€ï¼š</h3>
<p>å°†æ—¥æœŸå­—ç¬¦ä¸²è½¬ä¸ºæ•´æ•°è¿›è¡Œæ¯”è¾ƒ</p>
<pre><code class="language-java">/**
     * @title: dateCompare
     * @description: æ¯”è¾ƒæ—¥æœŸå¤§å°
     * @param date1 æ—¥æœŸ1
     * @param date2 æ—¥æœŸ2
     * @return
     */
    public static int dateCompare(Date date1, Date date2) {
        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyyMMdd&quot;);
        String dateFirst = dateFormat.format(date1);
        String dateLast = dateFormat.format(date2);
        int dateFirstIntVal = Integer.parseInt(dateFirst);
        int dateLastIntVal = Integer.parseInt(dateLast);
        if (dateFirstIntVal &gt; dateLastIntVal) {
            return 1;
        } else if (dateFirstIntVal &lt; dateLastIntVal) {
            return -1;
        }
        return 0;
    }

    ```
### æ€è·¯äºŒï¼š
å°†å­—ç¬¦ä¸²è£…ç»´dateå¯¹è±¡è¿›è¡Œæ¯”è¾ƒ

``` java
SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);
            Date begin = format.parse(&quot;2020-05-02 00:00:00&quot;);
            Date end = format.parse(&quot;2020-05-07 00:00:00&quot;);
            if (end.getTime() &lt; begin.getTime()) 
            //åˆ©ç”¨getTime()æ–¹æ³•æ¯”è¾ƒå¤§å°
            }
</code></pre>
<p>Dateå¯¹è±¡æœ¬èº«è¿˜æœ‰ä¸‰ç§è‡ªå¸¦çš„æ¯”è¾ƒå¤§å°çš„æ–¹æ³•å¯ä»¥ä½¿ç”¨ï¼š</p>
<pre><code class="language-java">Date date = new Date(); //è·å–å½“å‰çš„ç³»ç»Ÿæ—¶é—´ã€‚
            date.before();
            date.after();
            date.compareTo()
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://flakkaqi.github.io/post-images/1589003518003.jpg" alt="" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[åˆ©ç”¨Redisç”Ÿæˆæ•°æ®åº“å…¨å±€å”¯ä¸€æ€§id]]></title>
        <id>https://flakkaqi.github.io/post/li-yong-redis-sheng-cheng-shu-ju-ku-quan-ju-wei-yi-xing-id/</id>
        <link href="https://flakkaqi.github.io/post/li-yong-redis-sheng-cheng-shu-ju-ku-quan-ju-wei-yi-xing-id/">
        </link>
        <updated>2020-04-29T03:17:46.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ”ŠUUIDæœ¬èº«æ»¡è¶³åˆ†å¸ƒå¼å”¯ä¸€çš„ID,åªæ˜¯é•¿åº¦å¤ªé•¿ï¼Œåœ¨å¾ˆå¤šåœºæ™¯ä¸­æ— æ³•é€‚ç”¨ï¼Œå°¤å…¶åœ¨ç”Ÿæˆå•å·çš„æ—¶å€™ï¼Œä¸€èˆ¬å•å·éƒ½éœ€è¦èƒ½çœ‹åˆ°æ—¥æœŸï¼Œæ•°é‡ç­‰è®¢å•ä¿¡æ¯ã€‚å½“ç„¶åœ¨åˆ†å¸ƒå¼ä¸­è¿˜æœ‰å…¶ä»–ç”Ÿæˆæ–¹å¼ï¼Œæ¯”å¦‚é›ªèŠ±ç®—æ³•ç­‰å¯è‡ªè¡Œç™¾åº¦ã€‚è¿™é‡Œä»‹ç»åˆ©ç”¨redisç”Ÿæˆå…¨å±€å”¯ä¸€idçš„æ–¹æ³•ï¼šå®ç°ç¯å¢ƒæ˜¯springboot</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ”ŠUUIDæœ¬èº«æ»¡è¶³åˆ†å¸ƒå¼å”¯ä¸€çš„ID,åªæ˜¯é•¿åº¦å¤ªé•¿ï¼Œåœ¨å¾ˆå¤šåœºæ™¯ä¸­æ— æ³•é€‚ç”¨ï¼Œå°¤å…¶åœ¨ç”Ÿæˆå•å·çš„æ—¶å€™ï¼Œä¸€èˆ¬å•å·éƒ½éœ€è¦èƒ½çœ‹åˆ°æ—¥æœŸï¼Œæ•°é‡ç­‰è®¢å•ä¿¡æ¯ã€‚å½“ç„¶åœ¨åˆ†å¸ƒå¼ä¸­è¿˜æœ‰å…¶ä»–ç”Ÿæˆæ–¹å¼ï¼Œæ¯”å¦‚é›ªèŠ±ç®—æ³•ç­‰å¯è‡ªè¡Œç™¾åº¦ã€‚è¿™é‡Œä»‹ç»åˆ©ç”¨redisç”Ÿæˆå…¨å±€å”¯ä¸€idçš„æ–¹æ³•ï¼šå®ç°ç¯å¢ƒæ˜¯springboot</p>
<!-- more -->
<h2 id="1åˆ©ç”¨springbootæ•´ä¸ªredis">1.åˆ©ç”¨springbootæ•´ä¸ªredis</h2>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
 
    &lt;groupId&gt;com.example&lt;/groupId&gt;
    &lt;artifactId&gt;demo&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;jar&lt;/packaging&gt;
 
    &lt;name&gt;demo&lt;/name&gt;
    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;
 
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;
        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
    &lt;/parent&gt;
 
    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
    &lt;/properties&gt;
 
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
 
        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
            &lt;optional&gt;true&lt;/optional&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
 
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;
</code></pre>
<h2 id="2application-redisymlæ–‡ä»¶">2.application-redis.ymlæ–‡ä»¶</h2>
<pre><code class="language-yaml">spring:
  redis:
    database: 0
    host: 127.0.0.1
    port: 6379
    timeout: 0  # è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
    jedis:
      pool:
          max-active: 20 # è¿æ¥æ± æœ€å¤§è¿æ¥æ•°ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰
          max-idle: 20  # è¿æ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿æ¥
          max-wait: -1 # è¿æ¥æ± æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰
          min-idle: 0 # è¿æ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿æ¥
</code></pre>
<h2 id="3redis-config-é…ç½®">3.redis config é…ç½®</h2>
<!-- more -->
<!-- more -->
<pre><code class="language-java">package com.example.demo.config;
 
import com.fasterxml.jackson.annotation.JsonAutoDetect;
import com.fasterxml.jackson.annotation.PropertyAccessor;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.springframework.cache.CacheManager;
import org.springframework.cache.annotation.CachingConfigurerSupport;
import org.springframework.cache.interceptor.KeyGenerator;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.data.redis.cache.RedisCacheManager;
import org.springframework.data.redis.connection.RedisConnectionFactory;
import org.springframework.data.redis.core.RedisTemplate;
import org.springframework.data.redis.core.StringRedisTemplate;
import org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;
 
import java.util.Arrays;
 
/**
 * @Title: redisé…ç½®ç±»
 * @Package RedisConfig
 * redisé…ç½®ç±»
 * @author syliu
 * @create 2017/9/29 0029
 */
@Configuration
public class RedisConfig {
 
 
    @Bean
    public RedisTemplate&lt;String, String&gt; redisTemplate(RedisConnectionFactory factory) {
        StringRedisTemplate template = new StringRedisTemplate(factory);
        Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class);
        ObjectMapper objectMapper = new ObjectMapper();
        objectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);
        objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);
        jackson2JsonRedisSerializer.setObjectMapper(objectMapper);
        template.setValueSerializer(jackson2JsonRedisSerializer);
        template.afterPropertiesSet();
        return template;
    }
}
</code></pre>
<h2 id="4primarykeyservice">4..PrimaryKeyService</h2>
<pre><code class="language-java">import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.data.redis.core.RedisTemplate;
import org.springframework.stereotype.Service;
import java.util.Calendar;
import java.util.Date;

/**
 * åˆ©ç”¨redisç”Ÿæˆæ•°æ®åº“å…¨å±€å”¯ä¸€æ€§id
 * * @Auther: QiShuai
 *
 * @Date: 2020/4/28 20:49
 */
@Service
public class PrimaryKeyService {

    @Autowired
    private RedisTemplate redisTemplate;

    /**
     * è·å–å¹´çš„åä¸¤ä½åŠ ä¸Šä¸€å¹´å¤šå°‘å¤©+å½“å‰å°æ—¶æ•°ä½œä¸ºå‰ç¼€
     *
     * @param date
     * @return
     */
    public String getOrderIdPrefix(Date date) {
        Calendar calendar = Calendar.getInstance();
        calendar.setTime(date);
        int year = calendar.get(Calendar.YEAR);
        int month = calendar.get(Calendar.MONTH);
        int day = calendar.get(Calendar.DAY_OF_MONTH);
        int hour = calendar.get(Calendar.HOUR_OF_DAY);
        //è¡¥ä¸¤ä½,å› ä¸ºä¸€å¹´æœ€å¤šä¸‰ä½æ•°
        String monthFormat = String.format(&quot;%1$02d&quot;, month + 1);
        //è¡¥ä¸¤ä½ï¼Œå› ä¸ºæ—¥æœ€å¤šä¸¤ä½æ•°
        String dayFormat = String.format(&quot;%1$02d&quot;, day);
        //è¡¥ä¸¤ä½ï¼Œå› ä¸ºå°æ—¶æœ€å¤šä¸¤ä½æ•°
        String hourFormat = String.format(&quot;%1$02d&quot;, hour);
        StringBuilder uniqueId = new StringBuilder();
        return uniqueId.append(year).append(monthFormat).append(dayFormat).append(hourFormat).toString();
    }

    /**
     * å‚æ•°ç”Ÿæˆå…¨å±€å”¯ä¸€ID
     *
     * @param prefix
     * @return
     */
    public String orderId(String prefix) {
        String key = new StringBuilder().append(&quot;DEMO:ORDER_ID_&quot;).append(prefix).toString();
        Long increment = redisTemplate.opsForValue().increment(key, 1);
        //å¾€å‰è¡¥6ä½
        return new StringBuilder().append(prefix).append(String.format(&quot;%1$06d&quot;, increment)).toString();
    }

    /**
     * ç›´æ¥ç”Ÿæˆå…¨å±€å”¯ä¸€ID
     * @param date  æ—¶é—´
     * @return å…¨å±€å”¯ä¸€ID
     */
    public String createUniqueId(Date date) {

        String orderIdPrefix = getOrderIdPrefix(date);
        String registrationNo = orderId(orderIdPrefix);
        return registrationNo;
    }

}
</code></pre>
<h2 id="5æµ‹è¯•ç±»">5.æµ‹è¯•ç±»</h2>
<pre><code class="language-java">package com.example.demo;
 
import com.example.demo.service.PrimaryKeyService;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;
 
import java.util.Date;
@RunWith(SpringRunner.class)
@SpringBootTest
public class DemoApplicationTests {
    @Autowired
    private PrimaryKeyService primaryKeyService;
 
    @Test
    public void contextLoads() {
        long startMillis = System.currentTimeMillis();
        String orderIdPrefix = primaryKeyService.getOrderIdPrefix(new Date());
        for (int i = 0; i &lt; 10; i++) {
            Long aLong = primaryKeyService.orderId(orderIdPrefix);
            System.out.println(aLong);
        }
        long endMillis = System.currentTimeMillis();
        System.out.println(&quot;ç”Ÿæˆé€Ÿåº¦:&quot;+(endMillis-startMillis)+&quot;,å•ä½æ¯«ç§’&quot;);
    }
}
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://flakkaqi.github.io/post-images/1589003814324.webp" alt="" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[javaå¦‚ä½•å°†MultipartFileå¯¹è±¡è½¬ä¸ºFileå¯¹è±¡]]></title>
        <id>https://flakkaqi.github.io/post/java-ru-he-jiang-multipartfile-dui-xiang-zhuan-wei-file-dui-xiang/</id>
        <link href="https://flakkaqi.github.io/post/java-ru-he-jiang-multipartfile-dui-xiang-zhuan-wei-file-dui-xiang/">
        </link>
        <updated>2020-04-26T11:17:49.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ¤¸â€â™‚è¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä»£ç ï¼Œå°±æ˜¯å¹²</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ¤¸â€â™‚è¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä»£ç ï¼Œå°±æ˜¯å¹²</p>
<!-- more -->
<pre><code class="language-java">import org.springframework.web.multipart.MultipartFile;

import java.io.File;
import java.io.FileOutputStream;
import java.io.InputStream;
import java.io.OutputStream;

/**
 * @Auther: QiShuai
 * @Date: 2020/4/8 10:58
 * @Description:
 */
public class MultipartFileToFile {
    /**
     * MultipartFile è½¬ File
     *
     * @param file
     * @throws Exception
     */
    public static File multipartFileToFile(MultipartFile file) throws Exception {

        File toFile = null;
        if (file.equals(&quot;&quot;) || file.getSize() &lt;= 0) {
            file = null;
        } else {
            InputStream ins = null;
            ins = file.getInputStream();
            toFile = new File(file.getOriginalFilename());
            inputStreamToFile(ins, toFile);
            ins.close();
        }
        return toFile;
    }

    //è·å–æµæ–‡ä»¶
    private static void inputStreamToFile(InputStream ins, File file) {
        try {
            OutputStream os = new FileOutputStream(file);
            int bytesRead = 0;
            byte[] buffer = new byte[8192];
            while ((bytesRead = ins.read(buffer, 0, 8192)) != -1) {
                os.write(buffer, 0, bytesRead);
            }
            os.close();
            ins.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    /**
     * åˆ é™¤æœ¬åœ°ä¸´æ—¶æ–‡ä»¶
     * @param file
     */
    public static void deleteTempFile(File file) {
        if (file != null) {
            File del = new File(file.toURI());
            del.delete();
        }
    }
}
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://flakkaqi.github.io/post-images/1589003908740.webp" alt="" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[javaåˆ›å»ºä¸´æ—¶æ–‡ä»¶å¹¶å†™å…¥æ•°æ®]]></title>
        <id>https://flakkaqi.github.io/post/java-chuang-jian-lin-shi-wen-jian-bing-xie-ru-shu-ju/</id>
        <link href="https://flakkaqi.github.io/post/java-chuang-jian-lin-shi-wen-jian-bing-xie-ru-shu-ju/">
        </link>
        <updated>2020-04-26T11:07:15.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ¤£åˆ›å»ºæ–‡ä»¶å¯ä¸å°±æ˜¯ä¸ºäº†ä¿å­˜æ•°æ®å—ï¼Ÿ</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ¤£åˆ›å»ºæ–‡ä»¶å¯ä¸å°±æ˜¯ä¸ºäº†ä¿å­˜æ•°æ®å—ï¼Ÿ</p>
<!-- more -->
<pre><code class="language-java">// è°ƒç”¨ï¼š
{
String file = &quot;xxxx.&quot;;  //base64ç¼–ç çš„å­—ç¬¦ä¸²
String fileName = &quot;xxxx.txt&quot;;
StringBuilder tr = new StringBuilder();
        String tempPath = tr.append(System.getProperty(&quot;java.io.tmpdir&quot;)).append(File.separator).append(fileName).toString();
        try {
            boolean flag = Base64Util.GenerateFile(file, tempPath);
            if (!flag) {
                return &quot;æ–‡ä»¶æœ‰è¯¯ï¼Œè¯·æ£€æŸ¥åé‡æ–°ä¸Šä¼ ï¼&quot;;
            } else {
                File tempFile = new File(tempPath);
                //ä½¿ç”¨Fileå¯¹è±¡
&lt;!-- more --&gt;

            }
        } catch (Exception e) {
                e.printStackTrace();
        } finally {
            //åˆ é™¤ä¸´æ—¶æ–‡ä»¶
            File tempFile = new File(tempPath);
            if (tempFile.exists()) {
                tempFile.delete();
            }
        }
}
/**
     * æ ¹æ®å­—èŠ‚æ•°ç»„å­—ç¬¦ä¸²è¿›è¡ŒBase64è§£ç å¹¶ç”Ÿæˆæ–‡ä»¶
     *
     * @param fileStr BASE64ç¼–ç åçš„å­—ç¬¦ä¸²
     * @param savedFilePath ä¿å­˜æ–‡ä»¶çš„è·¯å¾„å’Œæ–‡ä»¶å
     * @return è½¬æ¢çŠ¶æ€
     */
    public static boolean GenerateFile(String fileStr, String savedFilePath) {
        // æ–‡ä»¶å­—èŠ‚æ•°ç»„å­—ç¬¦ä¸²æ•°æ®ä¸ºç©º
        if (StringUtils.isBlank(fileStr))
            return false;
        BASE64Decoder decoder = new BASE64Decoder();
        try {
            // Base64è§£ç 
            byte[] b = decoder.decodeBuffer(fileStr);
            for (int i = 0; i &lt; b.length; ++i) {
                {// è°ƒæ•´å¼‚å¸¸æ•°æ®
                    if (b[i] &lt; 0)
                        b[i] += 256;
                }
            }
            // ç”Ÿæˆæ–‡ä»¶
            OutputStream out = new FileOutputStream(savedFilePath);
            out.write(b);
            out.flush();
            out.close();
            return true;
        } catch (Exception e) {
            return false;
       }
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://flakkaqi.github.io/post-images/1589003927748.webp" alt="" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Java å®ç°æ–‡ä»¶å’Œbase64å­—ç¬¦ä¸²äº’è½¬]]></title>
        <id>https://flakkaqi.github.io/post/java-shi-xian-wen-jian-he-base64-zi-fu-chuan-hu-zhuan/</id>
        <link href="https://flakkaqi.github.io/post/java-shi-xian-wen-jian-he-base64-zi-fu-chuan-hu-zhuan/">
        </link>
        <updated>2020-04-26T06:55:56.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ¤–æœ‰æ—¶å€™å§ï¼Œå‰ç«¯ç»™åå°ä¼ çš„æ–‡ä»¶å¯èƒ½æ˜¯ç»è¿‡BASE64è½¬ç åçš„å­—ç¬¦ä¸²ï¼Œåˆ°äº†åç«¯æˆ‘ä»¬éœ€è¦å¯¹å…¶è¿›è¡Œè§£ç ã€‚ä»¥ä¸‹ä»£ç å°±æ˜¯ä¸€ä¸ªäº²æµ‹æœ‰ç”¨çš„å®ç°è¿‡ç¨‹ã€‚é‚£å¶ä¸è°¢.</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ¤–æœ‰æ—¶å€™å§ï¼Œå‰ç«¯ç»™åå°ä¼ çš„æ–‡ä»¶å¯èƒ½æ˜¯ç»è¿‡BASE64è½¬ç åçš„å­—ç¬¦ä¸²ï¼Œåˆ°äº†åç«¯æˆ‘ä»¬éœ€è¦å¯¹å…¶è¿›è¡Œè§£ç ã€‚ä»¥ä¸‹ä»£ç å°±æ˜¯ä¸€ä¸ªäº²æµ‹æœ‰ç”¨çš„å®ç°è¿‡ç¨‹ã€‚é‚£å¶ä¸è°¢.</p>
<!-- more -->
<p>ğŸ˜²å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-java">package main.java.demo;

import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;

import sun.misc.BASE64Decoder;
import sun.misc.BASE64Encoder;

/**
 * é€‚ç”¨å¤§éƒ¨åˆ†æ ¼å¼çš„æ–‡ä»¶
 *
 * @misterqi
 */
public class One {
    public static void main(String[] args) {
        One t = new One();
        String str = t.GetImageStr(&quot;C:/Users/QiShuai/Pictures/background/centerbg.jpg&quot;);
        System.out.println(str);
        boolean flag = t.GenerateImage(str, &quot;C:/Users/QiShuai/Pictures/background/centerbg2.jpg&quot;);
        System.out.println(flag);
    }

    /**
     * å°†æ–‡ä»¶è½¬åŒ–ä¸ºå­—èŠ‚æ•°ç»„å­—ç¬¦ä¸²ï¼Œå¹¶å¯¹å…¶è¿›è¡ŒBase64ç¼–ç å¤„ç†
     *
     * @param imgFile
     * @return
     */
    public static String GetImageStr(String imgFile) {
        InputStream in = null;
        byte[] data = null;
        // è¯»å–æ–‡ä»¶å­—èŠ‚æ•°ç»„
        try {
            in = new FileInputStream(imgFile);
            data = new byte[in.available()];
            in.read(data);
            in.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
        // å¯¹å­—èŠ‚æ•°ç»„Base64ç¼–ç 
        BASE64Encoder encoder = new BASE64Encoder();
        // è¿”å›Base64ç¼–ç è¿‡çš„å­—èŠ‚æ•°ç»„å­—ç¬¦ä¸²
        return encoder.encode(data);
    }

    /**
     * æ ¹æ®å­—èŠ‚æ•°ç»„å­—ç¬¦ä¸²è¿›è¡ŒBase64è§£ç å¹¶ç”Ÿæˆæ–‡ä»¶
     *
     * @param imgStr
     * @param savedImagePath
     * @return
     */
    public static boolean GenerateImage(String imgStr, String savedImagePath) {
        // æ–‡ä»¶å­—èŠ‚æ•°ç»„å­—ç¬¦ä¸²æ•°æ®ä¸ºç©º
        if (imgStr == null)
            return false;
        BASE64Decoder decoder = new BASE64Decoder();
        try {
            // Base64è§£ç 
            byte[] b = decoder.decodeBuffer(imgStr);
            for (int i = 0; i &lt; b.length; ++i) {
                {// è°ƒæ•´å¼‚å¸¸æ•°æ®
                    if (b[i] &lt; 0)
                        b[i] += 256;
                }
            }
            // ç”Ÿæˆæ–‡ä»¶
            OutputStream out = new FileOutputStream(savedImagePath);
            out.write(b);
            out.flush();
            out.close();
            return true;
        } catch (Exception e) {
            return false;
        }
    }

}
</code></pre>
<p>ğŸ¤¤å¯ä»¥ä½¿ç”¨éšä¾¿ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œæµ‹è¯•<br>
<img src="https://flakkaqi.github.io/post-images/1589004032405.webp" alt="" loading="lazy"></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å‹æƒ…é“¾æ¥]]></title>
        <id>https://flakkaqi.github.io/post/you-qing-lian-jie/</id>
        <link href="https://flakkaqi.github.io/post/you-qing-lian-jie/">
        </link>
        <updated>2020-04-18T02:38:52.000Z</updated>
        <content type="html"><![CDATA[<p><a href="https://greasyfork.org/zh-CN/#home-step-1">è„šæœ¬ç®¡ç†å™¨å®‰è£…</a><br>
<a href="">æ²¹çŒ´è„šæœ¬ä¸‹è½½</a><br>
<a href="http://www.win4000.com/">é«˜æ¸…å£çº¸ä¸‹è½½</a><br>
<img src="https://flakkaqi.github.io/post-images/1589004052469.webp" alt="" loading="lazy"></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æœ‰è¶£çš„åšå®¢ç½‘ç«™~]]></title>
        <id>https://flakkaqi.github.io/post/you-qu-de-bo-ke-wang-zhan-~/</id>
        <link href="https://flakkaqi.github.io/post/you-qu-de-bo-ke-wang-zhan-~/">
        </link>
        <updated>2020-04-18T01:56:14.000Z</updated>
        <summary type="html"><![CDATA[<p>è¿™é‡Œä¼šæœ‰å¾ˆå¤šæœ‰è¶£çš„å¼€æºé¡¹ç›®ä¼ é€é—¨ğŸ‘‡</p>
]]></summary>
        <content type="html"><![CDATA[<p>è¿™é‡Œä¼šæœ‰å¾ˆå¤šæœ‰è¶£çš„å¼€æºé¡¹ç›®ä¼ é€é—¨ğŸ‘‡</p>
<!-- more -->
<h2 id="ç‹è€…">ğŸ¥‡ç‹è€…</h2>
<h2 id="ç™½é“¶">ğŸ¥ˆç™½é“¶</h2>
<p><strong>no1</strong>: <a href="http://mouto.org/">åœåœå£</a></p>
<pre><code>å‰ç«¯å¼€å‘ã€äººåƒå†™çœŸã€äºŒæ¬¡å…ƒã€æœ‰è¶£çš„å¼€æºé¡¹ç›®ã€åšå®¢ã€å¤šé“¾æ¥
</code></pre>
<h2 id="é’é“œ">ğŸ¥‰é’é“œ</h2>
<h2 id="å±Œä¸">ğŸ˜¹å±Œä¸</h2>
<figure data-type="image" tabindex="1"><img src="https://flakkaqi.github.io/post-images/1589004080541.png" alt="" loading="lazy"></figure>
]]></content>
    </entry>
</feed>